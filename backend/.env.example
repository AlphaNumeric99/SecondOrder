# OpenRouter (required)
OPENROUTER_API_KEY=sk-or-...
DEFAULT_MODEL=openai/gpt-4o-mini
# Optional override for DEFAULT_MODEL at runtime
OPENROUTER_MODEL=
# Optional judge model used by benchmark evaluators
BENCHMARK_JUDGE_MODEL=openai/gpt-4o-mini

# Tavily
TAVILY_API_KEY=tvly-...

# Search execution
SEARCH_EXECUTOR_MODE=deterministic
SEARCH_MAX_QUERIES_PER_STEP=3
SEARCH_MAX_RESULTS_PER_QUERY=8
SEARCH_MAX_PARALLEL_REQUESTS=8

# Hasdata
HASDATA_API_KEY=...
SCRAPE_OUTPUT_FORMAT=html
SCRAPE_CACHE_ENABLED=false
SCRAPE_CACHE_DIR=.cache/scrape
SCRAPE_CACHE_TTL_HOURS=168
SCRAPE_MAX_PARALLEL_REQUESTS=8
EXTRACTOR_MAX_PAGE_CHARS=120000
EXTRACTOR_FALLBACK=markitdown
EXTRACTOR_RETRY_ENABLED=true
EXTRACTOR_RETRY_MAX=1
EXTRACT_IN_THREAD=true

# Orchestration quality/speed
SYNTHESIS_CONTEXT_CHAR_BUDGET=45000
REVIEW_MODE=conditional
REVIEW_MIN_SUPPORTED_RATIO=0.6
REVIEW_MIN_CITATIONS=2
MAX_FOLLOW_UP_ROUNDS=2
MAX_FOLLOW_UP_QUERIES_PER_ROUND=3
MAX_POST_SYNTHESIS_REVIEW_ROUNDS=1
MAX_POST_SYNTHESIS_FOLLOW_UP_QUERIES=2

# Hybrid architecture
HYBRID_MODE_ENABLED=false
HYBRID_SHADOW_MODE=true
HYBRID_MAX_PARALLEL_SEARCH=4
HYBRID_MAX_PARALLEL_EXTRACT=6
HYBRID_MAX_PARALLEL_VERIFY=4

# Memory / embeddings
MEMORY_BACKEND=chromadb
CHROMA_PERSIST_DIR=.cache/chroma
CHROMA_SESSION_TTL_HOURS=168
EMBEDDING_BACKEND=local
LOCAL_EMBED_MODEL=bge-small-en-v1.5
LOCAL_EMBED_BATCH_SIZE=32

# Supabase
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=eyJ...

# App
CORS_ORIGINS=http://localhost:3000
APP_LOG_LEVEL=INFO
NOISY_LOG_LEVEL=WARNING

# BRAVE
BRAVE_API_KEY=BSA...
SEARCH_PROVIDER=BRAVE
SEARCH_FALLBACK_TO_TAVILY=true
